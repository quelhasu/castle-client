{"version":3,"file":"static/webpack/static/development/pages/index.js.812a1254cb7a3d0c3a4c.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Layout from \"../components/Layout.js\";\nimport Link from \"next/link\";\nimport fetch from \"isomorphic-unfetch\";\nimport config from \"../config/config\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nimport MaterialTable from \"material-table\";\n\nconsole.log(config.api_url);\n\nconst PostLink = props => (\n  <li>\n    <Link as={`/p${props.id}`} href={`/post?title=${props.title}`}>\n      <a>{props.title}</a>\n    </Link>\n  </li>\n);\n\n\nconst Index = props => (\n  <Layout>\n    <MaterialTable\n      columns={[\n        { title: \"Preview\", field: \"hotel_media\", render : rowData => {\n          //FIXME: change image by hotel image\n          const media = \"https://picsum.photos/200/100\"\n          return (\n            <div>\n              <img src={media}/>\n            </div>\n          )\n        }},\n        { title: \"Hotel name\", field: \"hotel_name\",  render : rowData => {\n          const name = rowData.hotel_name\n          return(\n            <div>\n            <Link as={`/h/france/${rowData.id}`} href={`/h/france/${rowData.id}`}>\n              {name}\n            </Link>\n          </div>\n          )\n        }},\n        { title: \"Restaurant name\", field: \"restaurant_name\" },\n        { title: \"Location\", field: \"location\" },\n        { title: \"Price\", field: \"price\", type: \"numeric\" },\n        {\n          title: \"Michelin rating\",\n          field: \"michelin_rating\",\n          render: rowData => {\n            const rate = rowData.michelin_rating;\n            return (\n              <div style={{ height: \"25px\" }}>\n                <img\n                  src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Etoile_Michelin-1.svg/938px-Etoile_Michelin-1.svg.png\"\n                  style={{\n                    maxWidth: \"100%\",\n                    maxHeight: \"100%\",\n                    margin: \"0 5px\",\n                    objectFit: \"contain\",\n                    display: rate >= 1 ? \"inline\" : \"none\"\n                  }}\n                />\n                <img\n                  src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Etoile_Michelin-1.svg/938px-Etoile_Michelin-1.svg.png\"\n                  style={{\n                    maxWidth: \"100%\",\n                    maxHeight: \"100%\",\n                    margin: \"0 5px\",\n                    objectFit: \"contain\",\n                    display: rate > 1 ? \"inline\" : \"none\"\n                  }}\n                />\n                <img\n                  src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Etoile_Michelin-1.svg/938px-Etoile_Michelin-1.svg.png\"\n                  style={{\n                    maxWidth: \"100%\",\n                    maxHeight: \"100%\",\n                    margin: \"0 5px\",\n                    objectFit: \"contain\",\n                    display: rate > 2 ? \"inline\" : \"none\"\n                  }}\n                />\n              </div>\n            );\n          }\n        }\n        // {\n        //   title: \"Doğum Yeri\",\n        //   field: \"birthCity\",\n        //   lookup: { 34: \"İstanbul\", 63: \"Şanlıurfa\" }\n        // }\n      ]}\n      data={props.hotels.map(el => {\n        return {\n          hotel_name: el.name,\n          restaurant_name: el.restaurant.name,\n          location: el.location.postal,\n          michelin_rating: el.restaurant.michelin_rating,\n          price: el.from_price,\n          hotel_url: el.link,\n          restaurant_url: el.restaurant.michelin_url,\n          id: el.id\n        };\n      })}\n      title=\"Hotels & Restaurants\"\n      actions={[\n        rowData => ({\n          icon: \"hotel\",\n          tooltip: \"Go hotel webpage\",\n          disabled: rowData.hotel_url == null,\n          onClick: (event, rowData) => {\n            window.open(rowData.hotel_url, \"_blank\");\n          }\n        }),\n        rowData => ({\n          icon: \"restaurant\",\n          tooltip: \"Go restaurant webpage\",\n          disabled: rowData.restaurant_url == null,\n          onClick: (event, rowData) => {\n            window.open(rowData.restaurant_url, \"_blank\");\n          }\n        }),\n        // {\n        //   icon: \"navigate_next\",\n        //   tooltip: \"Show details\",\n        //   onClick: (event, rowData) => {\n        //     alert(\"You clicked user \" + rowData.name);\n        //   },\n        //   iconProps: {\n        //     style: {\n        //       fontSize: 30\n        //       // color: 'green',\n        //     }\n        //   }\n        // }\n      ]}\n      options={{\n        pageSize: 10,\n        actionsColumnIndex: -1\n      }}\n    />\n  </Layout>\n);\n\nIndex.getInitialProps = async function() {\n  const res = await fetch(`${config.api_url}/hotel/france`);\n  const data = await res.json();\n\n  console.log(`Show data fetched. Count: ${data.length}`);\n\n  return {\n    hotels: data\n  };\n};\n\nexport default Index;\n\n// export default () => (\n//   <Layout>\n//     <h1>Castle</h1>\n//     <ul>\n//       <PostLink id=\"hello-nextjs\" title=\"Hello Next.js\"/>\n//       <PostLink id=\"learn-nextjs\" title=\"Learn Next.js is awesome\"/>\n//       <PostLink id=\"deploy-nextjs\" title=\"Deploy apps with Zeit\"/>\n//     </ul>\n//   </Layout>\n// )\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAFA;AACA;AAQA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAGA;AARA;AASA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAKA;AATA;AAUA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AAYA;AAGA;AACA;AACA;AACA;AACA;AA9CA;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAsBA;AACA;AACA;AAFA;AAnHA;AAFA;AACA;AA4HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAEA;AAJA;AAOA;AADA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}